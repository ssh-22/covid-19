{"version":3,"sources":["components/Countdown.tsx","components/DatePicker.tsx","components/CountdownForm.tsx","consts.tsx","components/CountdownList.tsx","components/App.tsx","index.tsx"],"names":["Countdown","target","target_date","useState","days","hours","minutes","seconds","counter","setCounter","useEffect","timerId","setInterval","diff","moment","duration","Math","floor","asDays","clearInterval","className","DatePicker","handleTargetDate","React","Date","selectedDate","setSelectedDate","utils","DateFnsUtils","disableToolbar","variant","format","margin","label","value","onChange","date","KeyboardButtonProps","CountdownForm","addCountdown","setTarget","setTargetDate","handleSubmit","e","preventDefault","classes","makeStyles","theme","createStyles","button","spacing","useStyles","Grid","item","onSubmit","TextField","Button","color","endIcon","onClick","CountdownGetAPI","CountdownCreateAPI","CountdownDeleteAPI","CountdownList","countdowns","setCountdowns","fetchData","a","axios","get","res","newCountdowns","data","container","direction","justify","alignItems","countdown","newCountdown","post","then","id","catch","error","console","log","map","index","key","IconButton","children","filter","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.07111ca1.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport { CounterInterface, CountdownInterface } from \"../interfaces\";\n\nconst Countdown = ({ target, target_date }: CountdownInterface) => {\n  const [counter, setCounter] = useState<CounterInterface>({\n    days: 0,\n    hours: 0,\n    minutes: 0,\n    seconds: 0,\n  });\n\n  useEffect(() => {\n    const timerId = setInterval(() => {\n      const diff = moment(target_date).diff(moment());\n      const duration = moment.duration(diff);\n      const days = Math.floor(duration.asDays());\n      const hours = duration.hours();\n      const minutes = duration.minutes();\n      const seconds = duration.seconds();\n      setCounter({\n        days,\n        hours,\n        minutes,\n        seconds,\n      });\n    }, 1000);\n    return () => {\n      clearInterval(timerId);\n    };\n  }, [target_date]);\n\n  return (\n    <div className=\"countdown\">\n      <span className=\"target\">{target}</span>\n      <span> まで あと </span>\n      <span className=\"count\">\n        <span className=\"count days\">{counter.days}日</span>\n        <span className=\"count hours\">{counter.hours}時</span>\n        <span className=\"count minutes\">{counter.minutes}分</span>\n        <span className=\"count seconds\">{counter.seconds}秒</span>\n      </span>\n    </div>\n  );\n};\n\nexport default Countdown;\n","import React from \"react\";\n\nimport { targetDateProps } from \"../interfaces\";\n\nimport \"date-fns\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from \"@material-ui/pickers\";\n\nconst DatePicker: React.FC<targetDateProps> = ({\n  handleTargetDate,\n}: targetDateProps) => {\n  const [selectedDate, setSelectedDate] = React.useState<Date | null>(\n    new Date(\"2020-05-31T00:00:00\")\n  );\n\n  const handleDateChange = (date: Date | null) => {\n    setSelectedDate(date);\n    handleTargetDate(date);\n  };\n\n  return (\n    <div>\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\n        <KeyboardDatePicker\n          disableToolbar\n          variant=\"inline\"\n          format=\"yyyy/MM/dd\"\n          margin=\"normal\"\n          label=\"いつまでに\"\n          value={selectedDate}\n          onChange={handleDateChange}\n          KeyboardButtonProps={{\n            \"aria-label\": \"change date\",\n          }}\n          className=\"countdown form target-date\"\n        />\n      </MuiPickersUtilsProvider>\n    </div>\n  );\n};\n\nexport default DatePicker;\n","import React, { useState } from \"react\";\n\nimport DatePicker from \"./DatePicker\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { CountdownFormInterface } from \"../interfaces\";\n\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport { Grid } from \"@material-ui/core\";\nimport SendIcon from \"@material-ui/icons/Send\";\n\nconst CountdownForm = ({ addCountdown }: CountdownFormInterface) => {\n  const [target, setTarget] = useState(\"緊急事態宣言解除\");\n\n  const [target_date, setTargetDate] = useState(\n    new Date(\"2020-05-31T00:00:00\")\n  );\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!target || !target_date) return;\n    addCountdown({ target, target_date });\n    setTarget(\"\");\n  };\n\n  const handleTargetDate = (date: Date) => {\n    setTargetDate(date);\n  };\n\n  const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n      button: {\n        margin: theme.spacing(1),\n      },\n    })\n  );\n\n  const classes = useStyles();\n\n  return (\n    <Grid item>\n      <form className=\"countdown form\" onSubmit={handleSubmit}>\n        <TextField\n          label=\"何を\"\n          className=\"countdown form target\"\n          value={target}\n          onChange={(e) => setTarget(e.target.value)}\n        />\n        <br />\n        <DatePicker handleTargetDate={handleTargetDate} />\n        <br />\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.button}\n          endIcon={<SendIcon />}\n          onClick={handleSubmit}\n        >\n          送信\n        </Button>\n      </form>\n    </Grid>\n  );\n};\n\nexport default CountdownForm;\n","export const CountdownGetAPI = {\n  develop:\n    \"http://ec2-52-195-9-160.ap-northeast-1.compute.amazonaws.com:8080/api/countdown/\",\n};\n\nexport const CountdownCreateAPI = {\n  develop:\n    \"http://ec2-52-195-9-160.ap-northeast-1.compute.amazonaws.com:8080/api/countdown/create\",\n};\n\nexport const CountdownDeleteAPI = {\n  develop:\n    \"http://ec2-52-195-9-160.ap-northeast-1.compute.amazonaws.com:8080/api/countdown/delete\",\n};\n","import React, { useState, useEffect } from \"react\";\n\nimport Countdown from \"./Countdown\";\nimport CountdownForm from \"./CountdownForm\";\nimport { CountdownInterface } from \"../interfaces\";\nimport {\n  CountdownCreateAPI,\n  CountdownDeleteAPI,\n  CountdownGetAPI,\n} from \"../consts\";\n\nimport axios from \"axios\";\nimport { Grid, IconButton } from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\n\nconst CountdownList: React.FC = () => {\n  const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n      button: {\n        margin: theme.spacing(1),\n      },\n    })\n  );\n\n  const classes = useStyles();\n\n  const [countdowns, setCountdowns] = useState<CountdownInterface[]>([]);\n\n  const addCountdown = (countdown: CountdownInterface) => {\n    const target = countdown.target;\n    const target_date = countdown.target_date;\n    const newCountdown = { target, target_date };\n    axios\n      .post(CountdownCreateAPI.develop, newCountdown)\n      .then((res) => {\n        const id: number = res.data.id;\n        const newData = { id, ...newCountdown };\n        const newCountdowns = [newData, ...countdowns];\n        setCountdowns(newCountdowns);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const deleteCountdown = (id: number) => {\n    axios\n      .post(CountdownDeleteAPI.develop, { id })\n      .then((res) => {\n        console.log(res);\n        const newCountdowns = countdowns.filter((e) => e.id !== id);\n        setCountdowns(newCountdowns);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const fetchData = async () => {\n    const res = await axios.get(CountdownGetAPI.develop);\n    const newCountdowns: CountdownInterface[] = res.data;\n    setCountdowns(newCountdowns);\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  return (\n    <Grid\n      container\n      direction=\"column\"\n      justify=\"space-between\"\n      alignItems=\"center\"\n    >\n      <CountdownForm addCountdown={addCountdown} />\n      <br />\n      <br />\n      <Grid item className=\"countdown-list\">\n        {countdowns.map((countdown, index) => (\n          <div key={index}>\n            <Grid\n              container\n              direction=\"row\"\n              justify=\"space-evenly\"\n              alignItems=\"center\"\n            >\n              <Countdown\n                key={index}\n                id={countdown.id}\n                target={countdown.target}\n                target_date={countdown.target_date}\n              />\n              <IconButton\n                color=\"secondary\"\n                className={classes.button}\n                children={<DeleteIcon />}\n                onClick={() => deleteCountdown(countdown.id)}\n              />\n            </Grid>\n          </div>\n        ))}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default CountdownList;\n","import React from \"react\";\nimport CountdownList from \"./CountdownList\";\n\nconst App: React.FC = () => {\n  return (\n    <div className=\"App\">\n      <CountdownList />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}